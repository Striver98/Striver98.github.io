<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/universe.png">
  <link rel="icon" href="/img/universe.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Wang Zhixuan">
  <meta name="keywords" content="">
  
    <meta name="description" content="数据合成调研任务">
<meta property="og:type" content="article">
<meta property="og:title" content="Text-image Synthesis">
<meta property="og:url" content="https://striver98.github.io/2025/08/11/Text-image%20Synthesis/index.html">
<meta property="og:site_name" content="午夜飞行">
<meta property="og:description" content="数据合成调研任务">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250812103145875.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250813130838784.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250813171052119.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250813174948963.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250813180517096.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250814143051168.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250815162713903.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250816180158344.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250816180240863.png">
<meta property="og:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250816180254717.png">
<meta property="article:published_time" content="2025-08-11T06:43:31.000Z">
<meta property="article:modified_time" content="2025-08-16T14:32:08.976Z">
<meta property="article:author" content="Wang Zhixuan">
<meta property="article:tag" content="扩散模型">
<meta property="article:tag" content="流匹配">
<meta property="article:tag" content="自回归">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250812103145875.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Text-image Synthesis - 午夜飞行</title>

  <link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css">



  <link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css">

  <link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css">

  <link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css">



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link rel="stylesheet" href="/css/main.css">


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css">
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css">
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"striver98.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":["home"]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"lvc5jMNgiDCshZ3sR3KkiNjR-gzGzoHsz","app_key":"yBvnSteGkTHVkCJDH80pXa1d","server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script src="/js/utils.js"></script>
  <script src="/js/color-schema.js"></script>
  

  

  

  

  

  
    
  



  
<!-- hexo injector head_end start --><style>
body hanla:after {
    content: ' ';
    display: inline;
    font-family: inherit;
    font-size: 0.45em;
}

html code hanla,
html pre hanla,
html kbd hanla,
html samp hanla,
html ruby hanla,
html .tag-list-item hanla {
    display: none;
}

html ol > hanla,
html ul > hanla {
    display: none;
}
</style><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="午夜飞行" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>午夜飞行</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax="true" style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle">Text-image Synthesis</span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Wang Zhixuan
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-08-11 14:43" pubdate="">
          2025<hanla></hanla>年<hanla></hanla>8<hanla></hanla>月<hanla></hanla>11<hanla></hanla>日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          3.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          30 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Text-image Synthesis</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="扩散模型"><a href="#扩散模型" class="headerlink" title="扩散模型"></a><hanla></hanla>扩散模型<hanla></hanla></h1><h2 id="DDPM"><a href="#DDPM" class="headerlink" title="DDPM"></a>DDPM</h2><p>[1] J. Ho, A. Jain, and P. Abbeel, “Denoising diffusion probabilistic models,” in NeurIPS, 2020.</p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250812103145875.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Guided-Diffusion"><a href="#Guided-Diffusion" class="headerlink" title="Guided Diffusion"></a>Guided Diffusion</h2><p>[2] P.DhariwalandA.Nichol, “Diffusion models beat gans on image synthesis,” in NeurIPS,<br>2021.</p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250813130838784.png" srcset="/img/loading.gif" lazyload alt="image-20250813130838784"></p>
<h2 id="Latent-Diffusion-Model"><a href="#Latent-Diffusion-Model" class="headerlink" title="Latent Diffusion Model"></a>Latent Diffusion Model</h2><p>[3] R. Rombach, A. Blattmann, D. Lorenz, P. Esser, and B. Ommer, “High-resolution image<br>synthesis with latent diffusion models,” in CVPR, 2022.</p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250813171052119.png" srcset="/img/loading.gif" lazyload></p>
<p>[<a target="_blank" rel="noopener" href="https://www.cnblogs.com/lichunlei/p/18521616">论文阅读] High-Resolution Image Synthesis with Latent Diffusion Models - Chunleiii - 博客园</a></p>
<h2 id="ControlNet"><a href="#ControlNet" class="headerlink" title="ControlNet"></a>ControlNet</h2><p>[4] L. Zhang, A. Rao, and M. Agrawala, “Adding conditional control to text-to-image diffusion<br>models,” in ICCV, 2023.</p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250813174948963.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250813180517096.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Dreambooth"><a href="#Dreambooth" class="headerlink" title="Dreambooth"></a>Dreambooth</h2><p>[5] N. Ruiz, Y. Li, V. Jampani, Y. Pritch, M. Rubinstein, and K. Aberman, “Dreambooth: Fine tuning<br>text-to-image diffusion models for subject-driven generation,” in CVPR, 2023.</p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250814143051168.png" srcset="/img/loading.gif" lazyload></p>
<ol>
<li><strong>目标是什么？</strong> 让通用的<hanla></hanla>“文字生成图片”<hanla></hanla>模型学会认识你提供的<strong>特定东西</strong>（比如你家的狗），并能用<strong>新造的词</strong>（比如<hanla></hanla>“一个<hanla></hanla>[小<hanla></hanla>V]<hanla></hanla>狗”）来生成它在各种场景下的新图片，同时保持它独特的样子。</li>
<li><strong>怎么做？</strong><ul>
<li>给你想教给模型的特定东西（比如你的狗）拍<strong>几张照片</strong>（大约<hanla></hanla>3-5<hanla></hanla>张）。</li>
<li>给模型看这些照片，同时配上文字描述。这个描述用<strong>一个特殊代号（如<hanla></hanla>[V]）+ 这个东西的种类名（如<hanla></hanla>“狗”）</strong> 组成，比如<hanla></hanla>“一个<hanla></hanla>[V]<hanla></hanla>狗”。</li>
<li>这样微调模型时，模型就能：<ul>
<li>利用它<strong>原本就懂<hanla></hanla></strong>“狗”<hanla></hanla>是什么样子的知识（先验知识）。</li>
<li>把<strong>你这个特定的狗</strong>和那个<strong>特殊代号<hanla></hanla>[V]</strong> 牢牢绑定起来。</li>
</ul>
</li>
</ul>
</li>
<li><strong>防止模型忘本：</strong><ul>
<li>有个问题是，模型可能会把<hanla></hanla>“狗”<hanla></hanla>这个词<strong>只</strong>理解成<strong>你这条特定的狗</strong>，忘了其他狗长啥样（这叫<hanla></hanla>“语言漂移”）。</li>
<li>为了解决这个问题，他们发明了一个<hanla></hanla>**“防遗忘训练法”**：<ul>
<li>这个方法<strong>利用模型本身</strong>对<hanla></hanla>“狗”<hanla></hanla>这个<strong>种类</strong>的知识（比如知道狗有很多不同样子）。</li>
<li>在训练过程中，<strong>鼓励模型</strong>在看到<strong>单纯<hanla></hanla>“狗”<hanla></hanla>这个词</strong>时，仍然能生成<strong>各种各样不同的狗</strong>（而不是只生成你家那条狗）。这样就能保护模型对<hanla></hanla>“狗”<hanla></hanla>这个类别的理解。</li>
</ul>
</li>
</ul>
</li>
<li><strong>效果：</strong><ul>
<li>训练完成后，只要在文字描述里用那个<strong>特殊代号（如<hanla></hanla>“[V]<hanla></hanla>狗”）</strong>，就能指挥模型生成<strong>你家那条狗</strong>在各种新场景、摆不同姿势、甚至变成艺术风格的照片了！就像放进一个<hanla></hanla>“魔法照相亭”。</li>
</ul>
</li>
<li><strong>他们还做了这些：</strong><ul>
<li>尝试了各种文字生成图片的新玩法（给东西换背景、改属性、做艺术效果等）。</li>
<li>通过实验证明了他们方法里每个部分（特别是那个<hanla></hanla>“防遗忘训练法”）都很重要。</li>
<li>和其他方法做了对比实验。</li>
<li>请人实际测试，证明他们生成的图片里，东西的样子和文字描述的要求都更准确。</li>
</ul>
</li>
</ol>
<p><strong>总结核心（完全对应原文）：</strong> Dreambooth 教通用文生图模型认识你的特定东西（用几张照片），并绑定一个新词（特殊代号<hanla></hanla>+<hanla></hanla>类别名，如<hanla></hanla>“[V]<hanla></hanla>狗”）。为了防止模型学了新词就忘了旧词（把<hanla></hanla>“狗”<hanla></hanla>只当成你的狗），它用了一个巧妙的<hanla></hanla>“防遗忘训练法”，利用模型本身对这个东西类别（如<hanla></hanla>“狗”）的理解，在训练时鼓励模型继续生成同类的其他东西（各种狗），从而保护了原有知识。最终，用新词就能生成那个特定东西在各种场景下的新图片。</p>
<h1 id="流匹配"><a href="#流匹配" class="headerlink" title="流匹配"></a>流匹配<hanla></hanla></h1><h2 id="Multimodal-Diffusion-Backbone"><a href="#Multimodal-Diffusion-Backbone" class="headerlink" title="Multimodal Diffusion Backbone"></a>Multimodal Diffusion Backbone</h2><p>[1] P. Esser, S. Kulal, A. Blattmann, R. Entezari, J. Muller, H. Saini, ¨ Y. Levi, D. Lorenz, A. Sauer, F.<br>Boesel et al., “Scaling rectified flow transformers for high-resolution image synthesis,” in<br>ICML, 2024.</p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250815162713903.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Flow-Matching"><a href="#Flow-Matching" class="headerlink" title="Flow Matching"></a>Flow Matching</h2><p>[2] Lipman, Y., Chen, R. T. Q., Ben-Hamu, H., Nickel, M., and Le, M. “Flow matching for generative<br>modeling,”in ICLR 2023.</p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250816180158344.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250816180240863.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://blogwzx.oss-cn-beijing.aliyuncs.com/image-20250816180254717.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="1-为什么流匹配方法比传统的得分匹配方法更稳定？"><a href="#1-为什么流匹配方法比传统的得分匹配方法更稳定？" class="headerlink" title="1. 为什么流匹配方法比传统的得分匹配方法更稳定？"></a>1. 为什么流匹配方法比传统的得分匹配方法更稳定？</h3><p>得分匹配方法需要估计数据的概率密度对数的梯度，即得分函数，这在高维数据上可能具有较高的方差，导致训练不稳定。流匹配方法直接回归矢量场，避免了高方差的估计，同时通过条件流匹配，将训练过程分解为更简单的条件问题，提高了训练的稳定性。</p>
<h3 id="2-为什么最优传输路径能够提高采样效率？"><a href="#2-为什么最优传输路径能够提高采样效率？" class="headerlink" title="2. 为什么最优传输路径能够提高采样效率？"></a>2. 为什么最优传输路径能够提高采样效率？</h3><p>最优传输路径中的样本以直线轨迹从初始分布移动到目标分布，路径更为直接，且速度恒定。这意味着采样过程可以使用更大的步长，减少步数，同时仍能保持较高的生成质量。因此，最优传输路径在采样效率上具有优势。</p>
<h3 id="3-流匹配方法是否适用于其他类型的数据？"><a href="#3-流匹配方法是否适用于其他类型的数据？" class="headerlink" title="3. 流匹配方法是否适用于其他类型的数据？"></a>3. 流匹配方法是否适用于其他类型的数据？</h3><p>虽然本文的实验主要集中在图像数据上，但流匹配方法本质上是通用的。由于它仅依赖于构建合适的条件概率路径和矢量场，因此可以适用于其他类型的数据，如文本、音频等，只要能够定义合适的概率路径。</p>
<h3 id="4-流匹配方法是否存在局限性？在什么情况下可能不起作用？"><a href="#4-流匹配方法是否存在局限性？在什么情况下可能不起作用？" class="headerlink" title="4. 流匹配方法是否存在局限性？在什么情况下可能不起作用？"></a>4. 流匹配方法是否存在局限性？在什么情况下可能不起作用？</h3><p>流匹配方法的效果取决于条件概率路径和条件矢量场的选择。如果条件概率路径无法有效地逼近数据分布，或者条件矢量场难以学习到真实的流，那么模型的性能可能会受到限制。此外，对于高维、复杂的数据分布，构建合适的概率路径和矢量场可能会更加困难，需要进一步的研究。</p>
<h3 id="5-CNF和NF的区别？"><a href="#5-CNF和NF的区别？" class="headerlink" title="5. CNF和NF的区别？"></a>5. CNF<hanla></hanla>和<hanla></hanla>NF<hanla></hanla>的区别？</h3><p>连续归一化流（Continuous Normalizing Flows, CNFs）和归一化流（Normalizing Flows, NFs）都是用于概率分布变换的技术。</p>
<p><strong>归一化流（NF）</strong>：</p>
<ul>
<li>归一化流使用一系列可逆的、参数化的变换来将一个简单的分布（如高斯分布）变换为目标复杂分布。</li>
<li>这些变换通常是通过神经网络实现的，并且每个变换都是离散的。</li>
</ul>
<p><strong>连续归一化流（CNF）</strong>：</p>
<ul>
<li>CNF<hanla></hanla>将这种变换的过程视为一个连续的系统，通过常微分方程（ODE）定义。</li>
<li>变换不再是离散的一步一步，而是一个连续的时间演化过程。</li>
</ul>
<h3 id="6-什么是最优传输（Optimal-Transport，OT）路径？"><a href="#6-什么是最优传输（Optimal-Transport，OT）路径？" class="headerlink" title="6. 什么是最优传输（Optimal Transport，OT）路径？"></a>6. 什么是最优传输（Optimal Transport，OT）路径？</h3><ul>
<li><strong>最优传输理论</strong>研究如何以最小的代价将一个概率分布转换为另一个概率分布。</li>
<li><strong>OT<hanla></hanla>路径</strong>是在最优传输问题中找到的，将初始分布转换为目标分布的最节省<hanla></hanla>“成本”<hanla></hanla>的路径。</li>
<li>在图像处理中，最优传输可以用于图像变形、颜色匹配等。</li>
</ul>
<h3 id="7-为什么说扩散模型限制于特定的概率路径？"><a href="#7-为什么说扩散模型限制于特定的概率路径？" class="headerlink" title="7. 为什么说扩散模型限制于特定的概率路径？"></a>7. 为什么说扩散模型限制于特定的概率路径？</h3><p>扩散模型通过逐步添加噪声将数据转换为一种简单的噪声分布，然后通过逆过程逐步去除噪声来生成新数据。这一过程可以被视为沿着一个特定的概率路径在数据空间中移动。</p>
<p>「概率路径」通常指的是一个概率过程的演变轨迹，这个过程描述了从一种状态或分布转移到另一种状态或分布的方式。尤其是谈及扩散模型时，概率路径涉及模型如何在数据空间中通过一系列的概率分布变化实现从初始状态（标准高斯分布）到目标状态（自然图像的分布）的转变。</p>
<p>扩散模型中，路径的演变规则是固定的，即如何从一个分布转变到下一个分布的方式是预先定义的，通常是线性或非线性的噪声添加和去除过程。这种固定性使得模型在训练时学习的是<strong>如何反向通过这条特定的路径</strong>，从而生成新的数据样本。</p>
<p>任何偏离预设路径的尝试都可能导致模型生成不正确或低质量的样本，因为模型没有学习如何处理这些偏离路径的情况。这种限制使得扩散模型在生成过程中缺乏灵活性，无法根据数据的不同特征动态调整路径。</p>
<h3 id="8-在流匹配中是如何找到OT路径的？"><a href="#8-在流匹配中是如何找到OT路径的？" class="headerlink" title="8. 在流匹配中是如何找到OT路径的？"></a>8. 在流匹配中是如何找到<hanla></hanla>OT<hanla></hanla>路径的？</h3><ol>
<li><strong>构建条件概率路径：</strong> 定义均值和标准差随时间线性变化的条件概率路径。</li>
<li><strong>计算条件矢量场：</strong> 利用条件概率路径的参数，计算对应的条件矢量场。</li>
<li><strong>训练模型矢量场：</strong> 使用条件流匹配的损失函数，将模型矢量场训练为逼近条件矢量场。</li>
</ol>
<p>通过选择线性变化的条件概率路径和对应的条件矢量场，流匹配方法成功地找到了符合最优传输性质的<hanla></hanla>OT<hanla></hanla>路径。在这种路径下，样本点以最直接、最有效的方式从初始分布移动到目标分布。</p>
<p><strong>1. Simulation-Free Training of Flows：</strong></p>
<p>在训练生成模型时，可以避免直接求解微分方程，从而提高训练效率。在生成模型，尤其是扩散模型中，通常需要通过模拟一个从数据到噪声的随机过程（即正向过程），然后训练模型逆转这个过程（即逆向过程），以生成新的数据样本。这个过程涉及到求解一个随机微分方程，这在计算上通常是昂贵的。在传统的扩散模型训练中，正向过程是通过模拟一个确定性的微分方程来实现的，这个过程需要在每个时间步上评估神经网络，这导致了较高的计算成本。为了解决这个问题，研究者们提出了一种新的方法，即<strong>通过直接回归一个向量场来近似这个过程，而不是直接求解<hanla></hanla>ODE</strong>。这个向量场定义了从数据分布到噪声分布的转换，而且可以通过神经网络参数化。</p>
<p><strong>2.</strong> <strong><a target="_blank" rel="noopener" href="https://zhida.zhihu.com/search?content_id=240459073&amp;content_type=Article&amp;match_order=1&amp;q=Rectified+Flow+Transformer+Models&amp;zhida_source=entity">Rectified Flow Transformer Models</a>：<strong>修正流<hanla></hanla>Transformer<hanla></hanla>模型是一种结合了修正流（Rectified Flow）和<hanla></hanla>Transformer<hanla></hanla>架构的生成模型，<strong>专门用于高分辨率图像合成任务</strong>。Rectified Flow<hanla></hanla>优势如下</strong>：</strong></p>
<ol>
<li><strong>理论优势</strong>：Rectified Flow<hanla></hanla>模型通过在数据和噪声之间建立一条直线路径来定义正向过程。这种直接的路径选择在理论上具有更好的属性，因为它减少了在模拟过程中可能累积的误差，并且由于每一步都对应于神经网络的评估，这直接影响了采样速度。</li>
<li><strong>简化的训练过程</strong>：RF<hanla></hanla>模型的训练过程相对简单，因为它不需要复杂的积分步骤来模拟过程。这使得<hanla></hanla>RF<hanla></hanla>模型在训练时更加高效，尤其是在处理高维数据（如图像）时。</li>
<li><strong>性能提升</strong>：在第<hanla></hanla>3<hanla></hanla>章中，作者通过大规模研究比较了不同的流模型，并展示了<hanla></hanla>RF<hanla></hanla>模型在高分辨率文本到图像合成任务中的优越性能。这表明<hanla></hanla>RF<hanla></hanla>模型在理解和生成复杂图像方面具有更好的能力。</li>
<li><strong>噪声尺度的重新加权</strong>：作者在<hanla></hanla>RF<hanla></hanla>模型中引入了对噪声尺度的重新加权，这使得模型在训练过程中更加关注于中间时间步，这些时间步在数据到噪声的转换过程中通常更具挑战性。这种加权策略提高了模型在这些关键时间步的性能。</li>
<li><strong>可扩展性</strong>：RF<hanla></hanla>模型的架构和训练方法允许模型在不同尺度上进行扩展，这有助于在保持性能的同时增加模型的复杂性。这种可扩展性使得<hanla></hanla>RF<hanla></hanla>模型能够适应更广泛的应用场景。</li>
<li><strong>实验结果</strong>：通过实验，作者展示了<hanla></hanla>RF<hanla></hanla>模型在各种评估指标（如验证损失、CLIP<hanla></hanla>分数和<hanla></hanla>FID）上相对于其他流模型的优越性。这些实验结果支持了<hanla></hanla>RF<hanla></hanla>模型在实际应用中的有效性和优越性能。</li>
</ol>
<p>**3. 时序噪声采样器（Timestep Samplers）：**<hanla></hanla>在修正流模型（Rectified Flow Models）的训练中起着关键作用。这些采样器的工作方式和提升效率的原因如下：</p>
<ul>
<li>在修正流模型中，数据生成过程被视为一个从数据分布到噪声分布的连续路径。这个过程通常被划分为多个时间步（timesteps），每个时间步对应于路径上的一个点。</li>
<li>传统的噪声采样方法可能在所有时间步上均匀地采样，这意味着在训练过程中，模型在每个时间步上接收到的样本数量是相同的。</li>
<li>时序噪声采样器则采用一种非均匀的采样策略，它在训练过程中<strong>更频繁地采样那些对生成质量影响较大的中间时间步</strong>。这是因为在数据到噪声的转换过程中，<strong>中间时间步的噪声预测通常更具挑战性</strong>，因为它们需要在保留更多数据信息的同时去除噪声。</li>
</ul>
<p><strong>4. Rectified Flow Transformer Models</strong><hanla></hanla>与<hanla></hanla><strong>Multimodal Diffusion Backbone<hanla></hanla>的关系</strong>：</p>
<ul>
<li>Multimodal Diffusion Backbone（多模态扩散骨干）是模型的一部分，它处理图像和文本两种模态的信息。在修正流<hanla></hanla>Transformer<hanla></hanla>模型中，这个骨干（Multimodal Diffusion Backbone）<strong>负责将文本和图像的潜在表示结合起来</strong>，并<strong>通过<hanla></hanla>Transformer<hanla></hanla>的自注意力机制进行处理</strong>。</li>
<li>这种结合允许模型在生成过程中同时考虑文本提示和图像内容，从而生成与文本描述相匹配的高质量图像。多模态扩散骨干的设计使得模型能够在图像和文本之间实现双向信息流，这对于理解和生成复杂的图像内容至关重要。</li>
</ul>
<p>总的来说，<strong>Rectified Flow Transformer Models</strong><hanla></hanla>通过结合修正流的直线路径优势和<hanla></hanla>Transformer<hanla></hanla>的全局上下文理解能力，提高了文本到图像合成任务的性能。<strong>时序噪声采样器</strong>和<strong>多模态扩散骨干</strong>是这种模型的关键组成部分，它们共同作用于提高训练效率和生成图像的质量。</p>

                
              </div>
            
            <hr>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%89%A9%E6%95%A3%E6%A8%A1%E5%9E%8B/" class="print-no-link">#扩散模型</a>
      
        <a href="/tags/%E6%B5%81%E5%8C%B9%E9%85%8D/" class="print-no-link">#流匹配</a>
      
        <a href="/tags/%E8%87%AA%E5%9B%9E%E5%BD%92/" class="print-no-link">#自回归<hanla></hanla></a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Text-image Synthesis</div>
      <div>https://striver98.github.io/2025/08/11/Text-image Synthesis/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div><hanla></hanla>作者<hanla></hanla></div>
          <div>Wang Zhixuan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div><hanla></hanla>发布于<hanla></hanla></div>
          <div>2025<hanla></hanla>年<hanla></hanla>8<hanla></hanla>月<hanla></hanla>11<hanla></hanla>日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议<hanla></hanla></div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/07/28/Python%E5%85%A5%E9%97%A8/" title="Python入门">
                        <span class="hidden-mobile">Python<hanla></hanla>入门</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索<hanla></hanla></h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input"><hanla></hanla>关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a>
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script>
  <link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css">

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script>
<script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script>
<script src="/js/events.js"></script>
<script src="/js/plugins.js"></script>





  
    <script src="/js/img-lazyload.js"></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer="" src="/js/leancloud.js"></script>

  <script src="/js/local-search.js"></script>

  <script defer="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script src="/js/boot.js"></script>


  

  <noscript>
    <div class="noscript-warning"><hanla></hanla>博客在允许 JavaScript 运行的环境下浏览效果更佳<hanla></hanla></div>
  </noscript>


</body></html>